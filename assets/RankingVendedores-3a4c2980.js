import{av as q,aw as A,x as F,_ as i,aM as T,ax as B,aT as L,o as x,c as $,w as t,e,aK as O,aL as W,Y as j,X as r,W as D,aO as z,z as C,aU as M,I as N,aV as E,d as c,H as S,h as v,t as m,q as U,s as H,g as K,u as X,aP as Y,r as G,aW as J}from"./index-66469cf1.js";import{l as Q}from"./lojas-d0037ecf.js";const Z=q("rankingvendedores",{state:()=>({rankingvendedores:[]}),getters:{getRankingVendedores(u){return u.rankingvendedores}},actions:{async list(u){try{const o=await A.get("/rankingvendedores",{params:u});this.rankingvendedores=o.data.rankingVendedores}catch(o){alert(o),console.log(o)}}}}),ee=v(" Pesquisar "),ae=["colspan"],oe=F({setup(u){const o=Z(),s=Y("filters"),g=i("TO"),p=i(T(new Date,"dd/MM/yyyy")),V=i(T(new Date,"dd/MM/yyyy")),w=B(()=>o.rankingvendedores);B(()=>{let y=0;return w.value.map(l=>{y+=l.vlrTotal}),y});function f(){o.list({loja:g.value,data1:s==null?void 0:s.convertDate(p.value),data2:s==null?void 0:s.convertDate(V.value)})}L(()=>{f()});const I=[{key:"loja",order:"asc"}],P=[{title:"Posição",align:"left",key:"posicao"},{title:"Vendedor(a)",align:"left",key:"Nomabv"},{title:"Total",align:"left",key:"total"}],k=i("");return i({title:"Ranking de Vendas"}),(y,l)=>{const R=G("Alert"),h=J("mask");return x(),$(j,null,{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(O,null,{default:t(()=>[e(W,{class:"pa-5"},{default:t(()=>[e(j,null,{default:t(()=>[e(r,{cols:"12",lg:"6",md:"6"},{default:t(()=>[e(D,{"base-color":"#000",modelValue:k.value,"onUpdate:modelValue":l[0]||(l[0]=a=>k.value=a),label:"Pesquisar","hide-details":""},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",lg:"6",md:"6"},{default:t(()=>[e(z,{label:"Loja",modelValue:g.value,"onUpdate:modelValue":l[1]||(l[1]=a=>g.value=a),items:C(Q),"hide-details":"",onBlur:l[2]||(l[2]=a=>f()),"item-title":"descricao","item-value":"id","base-color":"#000"},null,8,["modelValue","items"])]),_:1}),e(r,{cols:"12",lg:"5",md:"6"},{default:t(()=>[M(e(D,{"base-color":"#000",modelValue:p.value,"onUpdate:modelValue":l[3]||(l[3]=a=>p.value=a),label:"Data Inicial","hide-details":""},null,8,["modelValue"]),[[h,["##/##/####"]]])]),_:1}),e(r,{cols:"12",lg:"5",md:"6"},{default:t(()=>[M(e(D,{"base-color":"#000",modelValue:V.value,"onUpdate:modelValue":l[4]||(l[4]=a=>V.value=a),label:"Data Final","hide-details":""},null,8,["modelValue"]),[[h,["##/##/####"]]])]),_:1}),e(r,{cols:"12",lg:"2",md:"2"},{default:t(()=>[e(N,{color:"primary",onClick:l[5]||(l[5]=a=>f())},{default:t(()=>[ee]),_:1})]),_:1})]),_:1}),e(R,{ref:"alert"},null,512),e(E,{class:"elevation-3 mt-5",headers:P,items:C(w),title:"Assinaturas","item-value":"name",search:k.value,"group-by":I,density:"compact","no-data-text":"Nada consta na base dados"},{"group-header":t(({item:a,columns:n,toggleGroup:_,isGroupOpen:b})=>[c("tr",null,[c("td",{colspan:n.length},[e(S,{onClick:d=>_(a)},{default:t(()=>[v(m(b(a)?"mdi-minus":"mdi-plus"),1)]),_:2},1032,["onClick"]),c("strong",null,m(a.value),1)],8,ae)])]),"item.total":t(({item:a})=>{var n;return[v(m((n=C(s))==null?void 0:n.currency(a.total)),1)]}),headers:t(({columns:a,isSorted:n,getSortIcon:_,toggleSort:b})=>[c("tr",null,[(x(!0),U(X,null,H(a,d=>(x(),U("td",{key:d.key,class:"px-0"},[e(N,{class:"text-none",color:"primary",rounded:"0",density:"compact",variant:"flat",style:{"text-aling":"left"},onClick:()=>b(d),block:""},K({default:t(()=>[v(m(d.title)+" ",1)]),_:2},[n(d)?{name:"append",fn:t(()=>[e(S,{icon:_(d),color:"warning"},null,8,["icon"])])}:void 0]),1032,["onClick"])]))),128))])]),_:1},8,["headers","items","search"])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{oe as default};
