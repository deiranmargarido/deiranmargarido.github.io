import{l as z}from"./lojas-d0037ecf.js";import{av as H,aw as K,x as R,_ as V,aM as A,ax as p,aT as X,o as M,c as Y,w as o,e as n,aK as G,aL as J,Y as E,X as y,W as g,aO as Z,z as s,aU as q,I as B,aW as tt,d as r,q as j,s as et,g as at,H as P,h as u,t as i,u as ot,aP as lt,r as st,aV as nt}from"./index-f8fc41f9.js";const dt=H("topmaisvendidos",{state:()=>({topmaisvendidos:[]}),getters:{getTopMaisVendidos(_){return _.topmaisvendidos}},actions:{async list(_){await K.get("/topmaisvendidos",{params:_}).then(l=>{this.topmaisvendidos=l.data.topmaisvendidos})}}}),it=u(" Pesquisar "),rt=["colspan"],ut=r("th",null,"T.Compra",-1),ct={class:"font-weight-bold"},mt=r("th",null,"T.Venda",-1),pt={class:"font-weight-bold"},yt=r("th",null,"T.Desconto",-1),ft={class:"font-weight-bold"},vt=r("th",null,"T.Liquido",-1),Vt={class:"font-weight-bold"},_t=r("th",null,"T.Lucro Estimado",-1),gt={class:"font-weight-bold"},kt=r("th",null,"T.Lucro Apurado",-1),ht={class:"font-weight-bold"},Dt=R({setup(_){const l=lt("filters"),k=V("TO"),h=V(A(new Date,"dd/MM/yyyy")),L=V(A(new Date,"dd/MM/yyyy")),b=V("10"),w=dt(),m=p(()=>w.topmaisvendidos),U=p(()=>{var d,e;return((e=(d=m.value)==null?void 0:d[0])==null?void 0:e.totalCompra)||0}),N=p(()=>{var d,e;return((e=(d=m.value)==null?void 0:d[0])==null?void 0:e.totalVenda)||0}),S=p(()=>{var d,e;return((e=(d=m.value)==null?void 0:d[0])==null?void 0:e.totalDesconto)||0}),I=p(()=>{var d,e;return((e=(d=m.value)==null?void 0:d[0])==null?void 0:e.totalLiquido)||0}),F=p(()=>{var d,e;return((e=(d=m.value)==null?void 0:d[0])==null?void 0:e.totalLucroEstimado)||0}),O=p(()=>{var d,e;return((e=(d=m.value)==null?void 0:d[0])==null?void 0:e.totalLucroApurado)||0}),$=[{key:"loja",order:"asc"}],Q=[{title:"Pos.",align:"left",key:"posicao"},{title:"Produto",align:"left",key:"Nomlin"},{title:"Qtd.",align:"left",key:"Qtd"},{title:"Vlr Compra.",align:"left",key:"Compra"},{title:"Vlr Venda",align:"left",key:"Venda"},{title:"Desc.",align:"left",key:"Desconto"},{title:"Lc. Liqui",align:"left",key:"Liquido"},{title:"Lc. Est.",align:"left",key:"LucroEstimado"},{title:"Lc. Apur.",align:"left",key:"LucroApurado"},{title:"Mrk. Est.",align:"left",key:"MarkupEstimado"},{title:"Mrk. Apu.",align:"left",key:"MarkupApurado"}],D=V("");V({title:"Top Mais Vendidos"});function C(){w.list({loja:k.value,data1:l==null?void 0:l.convertDate(h.value),data2:l==null?void 0:l.convertDate(L.value),topmais:b.value})}return X(()=>{C()}),(d,e)=>{const W=st("Alert"),T=nt("mask");return M(),Y(E,null,{default:o(()=>[n(y,{cols:"12"},{default:o(()=>[n(G,null,{default:o(()=>[n(J,{class:"pa-5"},{default:o(()=>[n(E,null,{default:o(()=>[n(y,{cols:"12",lg:"6",md:"6"},{default:o(()=>[n(g,{"base-color":"#000",modelValue:D.value,"onUpdate:modelValue":e[0]||(e[0]=t=>D.value=t),label:"Pesquisar","hide-details":""},null,8,["modelValue"])]),_:1}),n(y,{cols:"12",lg:"6",md:"6"},{default:o(()=>[n(Z,{label:"Loja",modelValue:k.value,"onUpdate:modelValue":e[1]||(e[1]=t=>k.value=t),items:s(z),"hide-details":"",onBlur:e[2]||(e[2]=t=>C()),"item-title":"descricao","item-value":"id","base-color":"#000"},null,8,["modelValue","items"])]),_:1}),n(y,{cols:"12",lg:"3",md:"3"},{default:o(()=>[q(n(g,{density:"compact",modelValue:h.value,"onUpdate:modelValue":e[3]||(e[3]=t=>h.value=t),label:"Data Inicial","hide-details":"","base-color":"#000"},null,8,["modelValue"]),[[T,["##/##/####"]]])]),_:1}),n(y,{cols:"12",lg:"3",md:"3"},{default:o(()=>[q(n(g,{density:"compact",modelValue:L.value,"onUpdate:modelValue":e[4]||(e[4]=t=>L.value=t),label:"Data Final","hide-details":"","base-color":"#000"},null,8,["modelValue"]),[[T,["##/##/####"]]])]),_:1}),n(y,{cols:"12",lg:"3",md:"3"},{default:o(()=>[n(g,{density:"compact",modelValue:b.value,"onUpdate:modelValue":e[5]||(e[5]=t=>b.value=t),label:"TOP","hide-details":"","base-color":"#000"},null,8,["modelValue"])]),_:1}),n(y,{cols:"12",lg:"2",md:"2"},{default:o(()=>[n(B,{color:"primary",onClick:e[6]||(e[6]=t=>C())},{default:o(()=>[it]),_:1})]),_:1})]),_:1}),n(W,{ref:"alert"},null,512),n(tt,{class:"elevation-1 mt-5",headers:Q,items:s(m),"item-value":"name",density:"compact",search:D.value,"no-data-text":"Nada consta na base dados","group-by":$},{headers:o(({columns:t,isSorted:a,getSortIcon:f,toggleSort:v})=>[r("tr",null,[(M(!0),j(ot,null,et(t,c=>(M(),j("td",{key:c.key,class:"px-0"},[n(B,{class:"text-none",color:"primary",rounded:"0",density:"compact",variant:"flat",style:{"text-aling":"left"},onClick:()=>v(c),block:""},at({default:o(()=>[u(i(c.title)+" ",1)]),_:2},[a(c)?{name:"append",fn:o(()=>[n(P,{icon:f(c),color:"warning"},null,8,["icon"])])}:void 0]),1032,["onClick"])]))),128))])]),"item.Compra":o(({item:t})=>{var a;return[u(i((a=s(l))==null?void 0:a.currency(t.Compra)),1)]}),"item.Venda":o(({item:t})=>{var a;return[u(i((a=s(l))==null?void 0:a.currency(t.Venda)),1)]}),"item.Desconto":o(({item:t})=>{var a;return[u(i((a=s(l))==null?void 0:a.currency(t.Desconto)),1)]}),"item.Liquido":o(({item:t})=>{var a;return[u(i((a=s(l))==null?void 0:a.currency(t.Liquido)),1)]}),"item.LucroEstimado":o(({item:t})=>{var a;return[u(i((a=s(l))==null?void 0:a.currency(t.LucroEstimado)),1)]}),"item.LucroApurado":o(({item:t})=>{var a;return[u(i((a=s(l))==null?void 0:a.currency(t.LucroApurado)),1)]}),"item.MarkupEstimado":o(({item:t})=>{var a;return[u(i((a=s(l))==null?void 0:a.currency(t.MarkupEstimado)),1)]}),"item.MarkupApurado":o(({item:t})=>{var a;return[u(i((a=s(l))==null?void 0:a.currency(t.MarkupApurado)),1)]}),"group-header":o(({item:t,columns:a,toggleGroup:f,isGroupOpen:v})=>[r("tr",null,[r("td",{colspan:a.length},[n(P,{onClick:c=>f(t)},{default:o(()=>[u(i(v(t)?"mdi-minus":"mdi-plus"),1)]),_:2},1032,["onClick"]),r("strong",null,i(t.value),1)],8,rt)])]),tfoot:o(()=>{var t,a,f,v,c,x;return[r("tr",null,[ut,r("td",ct,i((t=s(l))==null?void 0:t.currency(s(U))),1),mt,r("td",pt,i((a=s(l))==null?void 0:a.currency(s(N))),1),yt,r("td",ft,i((f=s(l))==null?void 0:f.currency(s(S))),1),vt,r("td",Vt,i((v=s(l))==null?void 0:v.currency(s(I))),1),_t,r("td",gt,i((c=s(l))==null?void 0:c.currency(s(F))),1),kt,r("td",ht,i((x=s(l))==null?void 0:x.currency(s(O))),1)])]}),_:1},8,["headers","items","search"])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{Dt as default};
