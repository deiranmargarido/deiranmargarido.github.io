import{l as I}from"./lojas-d0037ecf.js";import{u as L}from"./formapagamento-814f4f95.js";import{x as $,_ as u,aM as w,ax as T,aT as A,o as b,c as G,w as t,e as a,aK as O,aL as W,Y as B,X as r,W as h,aO as z,z as i,aU as j,I as M,aV as E,d as o,q as F,s as H,g as K,H as P,h as m,t as c,u as R,aP as X,r as Y,aW as J}from"./index-66469cf1.js";const Q=m(" Pesquisar "),Z=["colspan"],ee=o("td",{class:"font-weight-bold"},null,-1),ae=o("td",{class:"font-weight-bold"},null,-1),te=o("th",null,"Total",-1),le={class:"font-weight-bold"},re=$({setup(oe){const s=X("filters"),f=u("TO"),p=u(w(new Date,"dd/MM/yyyy")),v=u(w(new Date,"dd/MM/yyyy")),D=L(),x=T(()=>D.formapagamento),U=T(()=>{var _,l;return((l=(_=x.value)==null?void 0:_[0])==null?void 0:l.totalGeral)||0}),N=[{key:"loja",order:"asc"}],S=[{title:"Codigo",align:"left",key:"codope"},{title:"Descrição",align:"left",key:"descri"},{title:"Total",align:"left",key:"total"}],g=u("");u({title:"Forma de Pagamento"});function V(){D.list({loja:f.value,data1:s==null?void 0:s.convertDate(p.value),data2:s==null?void 0:s.convertDate(v.value)})}return A(()=>{V()}),(_,l)=>{const q=Y("Alert"),C=J("mask");return b(),G(B,null,{default:t(()=>[a(r,{cols:"12"},{default:t(()=>[a(O,null,{default:t(()=>[a(W,{class:"pa-5"},{default:t(()=>[a(B,null,{default:t(()=>[a(r,{cols:"12",lg:"6",md:"6"},{default:t(()=>[a(h,{"base-color":"#000",modelValue:g.value,"onUpdate:modelValue":l[0]||(l[0]=e=>g.value=e),label:"Pesquisar","hide-details":""},null,8,["modelValue"])]),_:1}),a(r,{cols:"12",lg:"6",md:"6"},{default:t(()=>[a(z,{label:"Loja",modelValue:f.value,"onUpdate:modelValue":l[1]||(l[1]=e=>f.value=e),items:i(I),"hide-details":"",onBlur:l[2]||(l[2]=e=>V()),"item-title":"descricao","item-value":"id","base-color":"#000"},null,8,["modelValue","items"])]),_:1}),a(r,{cols:"12",lg:"5",md:"6"},{default:t(()=>[j(a(h,{"base-color":"#000",modelValue:p.value,"onUpdate:modelValue":l[3]||(l[3]=e=>p.value=e),label:"Data Inicial","hide-details":""},null,8,["modelValue"]),[[C,["##/##/####"]]])]),_:1}),a(r,{cols:"12",lg:"5",md:"6"},{default:t(()=>[j(a(h,{"base-color":"#000",modelValue:v.value,"onUpdate:modelValue":l[4]||(l[4]=e=>v.value=e),label:"Data Final","hide-details":""},null,8,["modelValue"]),[[C,["##/##/####"]]])]),_:1}),a(r,{cols:"12",lg:"2",md:"2"},{default:t(()=>[a(M,{color:"primary",onClick:l[5]||(l[5]=e=>V())},{default:t(()=>[Q]),_:1})]),_:1})]),_:1}),a(q,{ref:"alert"},null,512),a(E,{class:"elevation-1 mt-5",headers:S,items:i(x),"item-value":"name",search:g.value,"group-by":N,density:"compact","no-data-text":"Nada consta na base dados"},{headers:t(({columns:e,isSorted:n,getSortIcon:y,toggleSort:k})=>[o("tr",null,[(b(!0),F(R,null,H(e,d=>(b(),F("td",{key:d.key,class:"px-0"},[a(M,{class:"text-none",color:"primary",rounded:"0",density:"compact",variant:"flat",style:{"text-aling":"left"},onClick:()=>k(d),block:""},K({default:t(()=>[m(c(d.title)+" ",1)]),_:2},[n(d)?{name:"append",fn:t(()=>[a(P,{icon:y(d),color:"warning"},null,8,["icon"])])}:void 0]),1032,["onClick"])]))),128))])]),"item.total":t(({item:e})=>{var n;return[m(c((n=i(s))==null?void 0:n.currency(e.total)),1)]}),"group-header":t(({item:e,columns:n,toggleGroup:y,isGroupOpen:k})=>[o("tr",null,[o("td",{colspan:n.length},[a(P,{onClick:d=>y(e)},{default:t(()=>[m(c(k(e)?"mdi-minus":"mdi-plus"),1)]),_:2},1032,["onClick"]),o("strong",null,c(e.value),1)],8,Z)])]),tfoot:t(()=>{var e;return[o("tr",null,[ee,ae,te,o("td",le,c((e=i(s))==null?void 0:e.currency(i(U))),1)])]}),_:1},8,["headers","items","search"])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{re as default};
