import{l as L}from"./lojas-d0037ecf.js";import{av as G,aw as I,x as J,_ as m,aM as w,ax as T,aT as q,o as h,c as $,w as a,e as t,aK as W,aL as H,Y as N,X as u,W as D,aO as E,z as r,aU as S,I as B,aV as K,d as n,q as P,s as X,g as Y,H as R,h as d,t as i,u as Q,aP as Z,r as ee,aW as ae}from"./index-66469cf1.js";const te=G("contasareceber",{state:()=>({contasareceber:[]}),getters:{getContasaReceber(v){return v.contasareceber}},actions:{async list(v){try{const o=await I.get("/contasareceber",{params:v});this.contasareceber=o.data.contasAReceber}catch(o){alert(o),console.log(o)}}}}),le=d(" Pesquisar "),oe=["colspan"],se=n("td",null,null,-1),ne=n("td",null,null,-1),re=n("td",null,null,-1),ie=n("td",null,null,-1),de=n("td",null,null,-1),ue=n("td",null,null,-1),ce=n("td",null,null,-1),me=n("th",null,"Total Geral:",-1),ve={class:"font-weight-bold text-h6"},ye=J({setup(v){const o=Z("filters"),f=m("TO"),p=m(w(new Date,"dd/MM/yyyy")),y=m(w(new Date,"dd/MM/yyyy")),V=m(0),U=[{id:0,descricao:"EM ABERTO"},{id:1,descricao:"SOMENTE PAGAS"},{id:2,descricao:"SOMENTE A PAGAR"}],C=te(),x=T(()=>C.contasareceber),F=T(()=>{var b,s;return((s=(b=x.value)==null?void 0:b[0])==null?void 0:s.SomaGeral)||0}),O=[{key:"nomeEmpresa",order:"asc"}],j=[{title:"Num.Duplt.",align:"left",key:"duplicata"},{title:"Num. Lote",align:"left",key:"NUMLOTE"},{title:"Cliente",align:"left",key:"nomeCliente"},{title:"Dt.Venc.",align:"left",key:"venc"},{title:"Parc.",align:"left",key:"Numparc"},{title:"Vlr",align:"left",key:"valor"},{title:"Vlr.Pag.",align:"left",key:"Vlrpag"},{title:"Dias Atraso",align:"left",key:"diasAtraso"},{title:"Vlr.Juros",align:"left",key:"valorJurosAoDia"},{title:"Vlr. Multa Atraso.",align:"left",key:"valorMultaAtraso"},{title:"Vlr. Atualizado",align:"left",key:"valorAtualizado"}],g=m("");m({title:"Contas a Receber"});function _(){C.list({loja:f.value,data1:o==null?void 0:o.convertDate(p.value),data2:o==null?void 0:o.convertDate(y.value),tipoFiltro:V.value})}return q(()=>{_()}),(b,s)=>{const z=ee("Alert"),M=ae("mask");return h(),$(N,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[t(W,null,{default:a(()=>[t(H,{class:"pa-5"},{default:a(()=>[t(N,null,{default:a(()=>[t(u,{cols:"12",lg:"6",md:"6"},{default:a(()=>[t(D,{"base-color":"#000",modelValue:g.value,"onUpdate:modelValue":s[0]||(s[0]=e=>g.value=e),label:"Pesquisar","hide-details":""},null,8,["modelValue"])]),_:1}),t(u,{cols:"12",lg:"6",md:"6"},{default:a(()=>[t(E,{label:"Loja",modelValue:f.value,"onUpdate:modelValue":s[1]||(s[1]=e=>f.value=e),items:r(L),"hide-details":"",onBlur:s[2]||(s[2]=e=>_()),"item-title":"descricao","item-value":"id","base-color":"#000"},null,8,["modelValue","items"])]),_:1}),t(u,{cols:"12",lg:"4",md:"6"},{default:a(()=>[S(t(D,{"base-color":"#000",modelValue:p.value,"onUpdate:modelValue":s[3]||(s[3]=e=>p.value=e),label:"Data Inicial","hide-details":""},null,8,["modelValue"]),[[M,["##/##/####"]]])]),_:1}),t(u,{cols:"12",lg:"4",md:"6"},{default:a(()=>[S(t(D,{modelValue:y.value,"onUpdate:modelValue":s[4]||(s[4]=e=>y.value=e),label:"Data Final","hide-details":"","base-color":"#000"},null,8,["modelValue"]),[[M,["##/##/####"]]])]),_:1}),t(u,{cols:"12",lg:"2",md:"6"},{default:a(()=>[t(E,{label:"Filtro",modelValue:V.value,"onUpdate:modelValue":s[5]||(s[5]=e=>V.value=e),items:U,"hide-details":"","item-title":"descricao","item-value":"id","base-color":"#000"},null,8,["modelValue"])]),_:1}),t(u,{cols:"12",lg:"2",md:"2"},{default:a(()=>[t(B,{color:"primary",onClick:s[6]||(s[6]=e=>_())},{default:a(()=>[le]),_:1})]),_:1})]),_:1}),t(z,{ref:"alert"},null,512),t(K,{class:"elevation-1 mt-5",headers:j,items:r(x),"item-value":"name",search:g.value,"group-by":O,density:"compact","no-data-text":"Nada consta na base dados"},{headers:a(({columns:e,isSorted:l,getSortIcon:k,toggleSort:A})=>[n("tr",null,[(h(!0),P(Q,null,X(e,c=>(h(),P("td",{key:c.key,class:"px-0"},[t(B,{class:"text-none",color:"primary",rounded:"0",density:"compact",variant:"flat",style:{"text-aling":"left"},onClick:()=>A(c),block:""},Y({default:a(()=>[d(i(c.title)+" ",1)]),_:2},[l(c)?{name:"append",fn:a(()=>[t(R,{icon:k(c),color:"warning"},null,8,["icon"])])}:void 0]),1032,["onClick"])]))),128))])]),"item.valor":a(({item:e})=>{var l;return[d(i((l=r(o))==null?void 0:l.currency(e.valor)),1)]}),"item.Vlrpag":a(({item:e})=>{var l;return[d(i((l=r(o))==null?void 0:l.currency(e.Vlrpag)),1)]}),"item.valorJurosAoDia":a(({item:e})=>{var l;return[d(i((l=r(o))==null?void 0:l.currency(e.valorJurosAoDia)),1)]}),"item.valorMultaAtraso":a(({item:e})=>{var l;return[d(i((l=r(o))==null?void 0:l.currency(e.valorMultaAtraso)),1)]}),"item.valorAtualizado":a(({item:e})=>{var l;return[d(i((l=r(o))==null?void 0:l.currency(e.valorAtualizado)),1)]}),"group-header":a(({item:e,columns:l,toggleGroup:k,isGroupOpen:A})=>[n("tr",null,[n("td",{colspan:l.length},[t(R,{onClick:c=>k(e)},{default:a(()=>[d(i(A(e)?"mdi-minus":"mdi-plus"),1)]),_:2},1032,["onClick"]),n("strong",null,i(e.value),1)],8,oe)])]),tfoot:a(()=>{var e;return[n("tr",null,[se,ne,re,ie,de,ue,ce,me,n("td",ve,i((e=r(o))==null?void 0:e.currency(r(F))),1)])]}),_:1},8,["headers","items","search"])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{ye as default};
